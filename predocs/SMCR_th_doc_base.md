# mSMCR optimal portfolios

SMCR stands for *Second Moment Coherent Risk*. SMCR dispersion measure can be
defined as

\begin{equation*}
 	{\rm SMCR}_\alpha(r) = \min_u\left( u + \frac{1}{1-\alpha}\left\|\left(-u-{\bar r}\right)^+\right\|_2\right),
\end{equation*}

where
$\left\| \cdot \right\|_2 = \left( E\left[\left| \cdot \right|^2\right]\right)^{1/2}$,
is the $L_2$ norm, $\alpha$ is the confidence level and
$\bar r$ is the detrended rate of return, ${\bar r} = r - E[r]$.

**azapy** implements a generalization of SMCR,
namely the *mixture SMCR* (mSMCR).

mSMCR is a superposition of SMCR
measures for different confidence levels. The single SMCR measure can be viewed
as a particular case of mSMCR.

The mSMCR dispersion measure is defined as

\begin{equation*}
	{\rm mSMCR} = \sum_{l=1}^L {\cal K}_l \times {\rm SMCR}_{\alpha_l},
\end{equation*}

where:

* $L$ is the number of individual SMCR's,
* $\{{\cal K}\}_{l=1,\cdots,L}$ is a set of positive coefficients normalized to unit,
* $\alpha_l$ are distinct SMCR confidence levels.

> Note: a possible choice could be $L=2$,
$\alpha=\{0.90, 0.85\}$ and ${\cal K}=\{0.5, 0.5\}$

The following portfolio optimization strategies are available:
* Minimization of dispersion for targeted expected rate of return,
* Maximization of Sharpe ratio,
* Minimization of the inverse of Sharpe ratio,
* Minimum dispersion portfolio,
* Maximization of expected rate of return for a risk vale generated by a
benchmark portfolio (*e.g.* same risk as equal weighted portfolio),
* Maximization of expected rate of returns for fixed risk-aversion factor.

There are 2 support classes:

* **SMCRAnalyzer** : computes the portfolio weights and performs in-sample
analysis,
* **Port_SMCR** : performs portfolio back testing, out-of-sample analysis.
