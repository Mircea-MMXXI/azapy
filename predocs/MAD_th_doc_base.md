
# mMAD optimal portfolios <a name="TOP"></a>

MAD stands for _Mean Absolute Deviation_.

**azapy** implements a generalization of MAD, namely the *m-level MAD* (mMAD).

mMAD dispersion measure is a superposition of recursive high order MAD measures,
*i.e.*,

\begin{equation*}
	{\rm mMAD} = \sum_{l=1}^L {\cal K}_l \times \delta_l^{(1)}
\end{equation*}

where:

* $L$ is the mMAD level,
* $\{{\cal K}_l\}_{l=1,\cdots,L}$ is a set of non-increasing positive
coefficients normalized to unit,
* $\delta_l^{(1)}$ is the l-th level delta-risk of rank 1, defined
suceively as

\begin{align*}
	\delta_1^{(1)}(r) &= E\left[\left(-{\bar r}\right)^+\right],
	&\cdots \\
	\delta_l^{(1)}(r) &= E\left[\left(-{\bar r} - \sum_{j=1}^{l-1} \delta_j^{(1)}(r)\right)^+\right], \\
\end{align*}
where $\bar r$ is the detrended rate of return, ${\bar r} = r - E[r]$.

> Note: a possible choice could be $L=3$ and ${\cal K}_l=1/3\ \ \forall l$.

The following portfolio optimization strategies are available:
* Minimization of dispersion for targeted expected rate of return,
* Maximization of Sharpe ratio,
* Minimization of the inverse of Sharpe ratio,
* Minimum dispersion portfolio,
* Maximization of expected rate of return for a risk vale generated by a
benchmark portfolio (*e.g.* same risk as equal weighted portfolio),
* Maximization of expected rate of returns for fixed risk-aversion factor.

There are 2 support classes:

* **MADAnalyzer** : computes the portfolio weights and performs in-sample
analysis,
* **Port_MAD** : performs portfolio back testing, out-of-sample analysis.
